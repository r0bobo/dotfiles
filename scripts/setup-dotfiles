#!/usr/bin/env sh

# TODO: Create a better

# Set paths
export DOTFILES_DIR=${DOTFILES_DIR-~/dotfiles}
export ZSH=${ZSH-~/.oh-my-zsh}
export ZPLUG_HOME=${ZPLUG_HOME-~/.zplug}
export VIMPLUG_HOME=${VIMPLUG_HOME-~/.local/share/nvim/site/autoload/plug.vim}

$DOTFILES_DIR/scripts/create_symlinks.py $DOTFILES_DIR $DOTFILES_DIR/dotfiles.conf

echo "Env variables:"
echo $ZSH
echo $ZPLUG_HOME
echo $VIMPLUG_HOME

# Download modules
if [ -d !$ZPLUG_HOME ]; then
        git clone https://github.com/zplug/zplug $ZPLUG_HOME
fi
if [ -d !$VIMLPUG_HOME ]; then
        curl -fLo $VIMPLUG_HOME --create-dirs \
                https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
fi
if [ -d !$ZSH ]; then
        git clone --depth=1 https://github.com/robbyrussel/oh-my-zsh.git $OH_MY_ZSH
fi

# Run and update vim-plug
# nvim -c "PlugUpgrade | PlugInstall | PlugUpdate | PlugClean | q | q"

# TODO: add zplug update/install/clean/etc as well
